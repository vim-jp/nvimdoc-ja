*dev_theme.txt*          Nvim 0.12        Last change: 2025-08-24


                         NVIMリファレンスマニュアル


Nvim カラースキームガイドライン                               *dev-theme*

Nvim のデフォルトのカラースキームを開発するためのスタイルガイド。

ライセンス: CC-By 3.0 https://creativecommons.org/licenses/by/3.0/

                                            目次を確認するには |gO| をタイプ。

==============================================================================
デザイン

- 「Neovim ブランド」であること、つまり、主に「青緑」の雰囲気をもち、ユーザー
   の注意を引きたい時のみ一つか二つの色を専用に割り当てる。
- 'termguicolors' (TrueColor) を重視しつつ、フォールバックとしての
  'notermguicolors' (16 colors) については最小限の構成に留める。
- アクセシビリティを考慮する。つまり、十分なコントラスト比を兼ね備える
  (https://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef を参照)。
  これは、 |hl-Normal| の場合は少なくとも 7、その他の一般的なケース(|hl-Visual|、
  'cursorline' が設定された `Comment`、色付き構文、 `Diff*` 、 |hl-Search|)の場合は、
  少なくとも 4.5 以上の値を持たなければならない。
- 暗い背景と明るい背景の両方に対応可能であり、カラーパレットを切り替えることで
  実現する。
- 使いやすくあるべきである。つまり、基本的なオブジェクトに対して十分なビジュア
  ルフィードバックを提供する。

==============================================================================
パレット

- ダークテーマとライトテーマの2つのパレットは、共通の色セットを持ち、それぞれ
  `NvimDark*` と `NvimLight*` としてエクスポートされる。
- ダークテーマでは背景にダークパレットを使用し、ライトテーマでは前景にダークパ
  レットを使用する。またその逆も同様である。これにより、目立ちすぎず認識しやす
  い視覚システムを構築できる。
- パレットの実際の処理は、視覚的に均等な色空間で行わなければならない。Oklch は
  優れた選択肢と言える。
- 各パレットは以下の色を持つ(説明はダークテーマ向けのもの; ライトテーマでは反
  転する):
    - 汎用的な UI 用の4つの冷色系のグレーの色合い。
        - 暗いものの場合(暗い色から順に)、 |hl-NormalFloat| ("black" とする)、
          |hl-Normal| (背景)、 |hl-CursorLine|、 |hl-Visual| として背景に予約してお
          く。
        - 明るいものの場合(同じく暗い色から順に)、 `Comment`、 |hl-StatusLine| /
          |hl-TabLine|、 |hl-Normal| (前景)、そして "white" 用の色を予約する。
- 端末用に十分にカラーを提供するための6色: 赤、黄、緑、シアン、青、マゼンタ。
  視覚的に一貫性を持たせるため、明度と彩度は(適度に)同程度である必要がある。
  明度はパレットの基本のグレー(|hl-Normal| で使用するもの)と限りなく等しくなけ
  ればならない。色相は(適度に)異なっており、視覚的に区別しやすい必要がある。
- 16色については:
    - グレーは使用されず、端末エミュレータの前景色と背景色に置き換えられる。
    - グレー以外の色は ANSIコード(https://en.wikipedia.org/wiki/ANSI_escape_code#3-bit_and_4-bit)
      に従い、端末の色にフォールバックする。つまり、赤(1、9)、緑(2、10)、黄
      (3、11)、青(4、12)、マゼンタ(5、13)、シアン(6、14)。コントラストを高める
      場合、明るい背景には色1~6、暗い背景には色9~14を使用する。

==============================================================================
ハイライトグループ

以下に従う:

- 汎用 UI はそのデザインに応じて、グレーの色合いを使用する。
- キーワード(`Statement` ハイライトグループ)は太字で表示する。実際の色に依存しな
  いため、これは色覚異常がある人のアクセシビリティを向上させるのに重要な選択で
  ある。
- 緑は文字列、 |hl-DiffAdd| (背景色)、 |hl-DiagnosticOk|、そしていくつかのテキスト
  UI 要素に使用する。
- シアンは主な構文色として、つまり関数(`Function` ハイライトグループ)、
  |hl-DiffText|、 |hl-DiagnosticInfo|、及びいくつかのテキスト UI 要素に使用さ
  れる。
- 赤はエラー、特に |hl-ErrorMsg|、 |hl-DiffDelete|、 |hl-DiagnosticError| などのユー
  ザーの高い注意が必要なものを意味する。
- 黄は警告などのユーザーの軽度の注意が必要なもの、具体的には |hl-DiagnosticWarn|
  や |hl-WarningMsg| に控えめに使用される。
- 青は、 |hl-DiagnosticHint| などの重要な構文グループ(例えば `Identifier`)に対し控
  えめに使用する。
- マゼンタは(もし必要であれば)慎重に使用する。

16色の場合:

- 「背景色は背景として、その他の色は前景色として使用可能」という前提に基づく。
  これは、任意の前景/背景の組み合わせにおいて、背景色と1つの前景色が存在するべ
  きであることを意味する。
- 通常の背景が明るいか暗いかに応じて、グレー以外の背景に対しては、0（黒）また
  は15（明るい白）を前景として使用します。

 vim:tw=78:ts=8:et:ft=help:norl:
